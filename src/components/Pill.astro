---
interface Props {
  variant?: "primary" | "secondary" | "soft" | "outline" | "surface";
  icon?: string;
  href?: string;
  class?: string;
}

const { variant = "soft", icon, href, class: className, ...rest } = Astro.props;

const variants = {
  primary: "bg-primary text-bg border-primary hover:opacity-90",
  secondary: "bg-secondary text-white border-secondary hover:opacity-90",
  soft: "bg-[color-mix(in_srgb,var(--color-secondary),transparent_90%)] text-secondary border-[color-mix(in_srgb,var(--color-secondary),transparent_80%)] hover:bg-[color-mix(in_srgb,var(--color-secondary),transparent_80%)]",
  outline:
    "bg-transparent text-text border-border-subtle hover:border-primary hover:text-primary",
  surface:
    "bg-surface/90 text-secondary border-border-subtle backdrop-blur-md shadow-sm",
};

const baseStyles =
  "inline-flex items-center gap-2 px-3 py-1 rounded-[var(--radius-pill)] text-xs font-bold uppercase tracking-wider border transition-all duration-300";
const Tag = href ? "a" : "span";
---

<Tag
  href={href}
  class:list={[baseStyles, variants[variant], className]}
  {...rest}
>
  {icon && <div class={icon} />}
  <slot />
</Tag>
