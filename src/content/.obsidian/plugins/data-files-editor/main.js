/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Ne=Object.create;var W=Object.defineProperty;var Ge=Object.getOwnPropertyDescriptor;var ze=Object.getOwnPropertyNames;var Ae=Object.getPrototypeOf,je=Object.prototype.hasOwnProperty;var Ie=(e,t)=>{for(var s in t)W(e,s,{get:t[s],enumerable:!0})},ge=(e,t,s,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let O of ze(t))!je.call(e,O)&&O!==s&&W(e,O,{get:()=>t[O],enumerable:!(o=Ge(t,O))||o.enumerable});return e};var Be=(e,t,s)=>(s=e!=null?Ne(Ae(e)):{},ge(t||!e||!e.__esModule?W(s,"default",{value:e,enumerable:!0}):s,e)),Je=e=>ge(W({},"__esModule",{value:!0}),e);var wt={};Ie(wt,{default:()=>G});module.exports=Je(wt);var z=require("obsidian");var qe=require("obsidian");var X="json";var c="txt";var x="yaml",A="json",j="xml",I="txt",B="yaml",ce="yml",J="astro",H="ts",F="css",K="html",ee="js",te="mjs";var pe=require("@lezer/lr"),P=require("@lezer/highlight"),Fe=(0,P.styleTags)({String:P.tags.string,Number:P.tags.number,"True False":P.tags.bool,PropertyName:P.tags.propertyName,Null:P.tags.null,", :":P.tags.separator,"[ ]":P.tags.squareBracket,"{ }":P.tags.brace}),fe=pe.LRParser.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26A0 JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[Fe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});var f=require("@codemirror/language");var Ke=f.LRLanguage.define({name:"json",parser:fe.configure({props:[f.indentNodeProp.add({Object:(0,f.continuedIndent)({except:/^\s*\}/}),Array:(0,f.continuedIndent)({except:/^\s*\]/})}),f.foldNodeProp.add({"Object Array":f.foldInside})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function me(){return new f.LanguageSupport(Ke)}var se=require("@codemirror/view"),$=require("@codemirror/commands"),Pe=require("@codemirror/language"),D=()=>[se.keymap.of([$.indentWithTab]),Pe.indentUnit.of("    ")],he=()=>[se.keymap.of([{key:"Shift-Tab",preventDefault:!0,run:$.indentLess}])];var Se=require("obsidian"),k=require("@codemirror/view"),Xe=require("@codemirror/state"),xe=require("@codemirror/commands");var g=require("@codemirror/view"),et=require("@codemirror/view"),Qe=require("@codemirror/state"),m=require("@codemirror/language"),v=require("@codemirror/commands"),q=require("@codemirror/search"),S=require("@codemirror/autocomplete"),ue=require("@codemirror/lint"),Te=(()=>[(0,g.lineNumbers)(),(0,g.highlightActiveLineGutter)(),(0,g.highlightSpecialChars)(),(0,v.history)(),(0,m.foldGutter)(),(0,g.drawSelection)(),(0,g.dropCursor)(),Qe.EditorState.allowMultipleSelections.of(!0),(0,m.indentOnInput)(),(0,m.syntaxHighlighting)(m.defaultHighlightStyle,{fallback:!0}),(0,m.bracketMatching)(),(0,S.closeBrackets)(),(0,S.autocompletion)(),(0,g.rectangularSelection)(),(0,g.crosshairCursor)(),(0,g.highlightActiveLine)(),(0,q.highlightSelectionMatches)(),g.keymap.of([...S.closeBracketsKeymap,...v.defaultKeymap,...q.searchKeymap,...v.historyKeymap,...m.foldKeymap,...S.completionKeymap,...ue.lintKeymap])])();var h=class extends Se.TextFileView{constructor(s,o){super(s);this.customHistoryKeymap=[{win:"Ctrl-Shift-z",run:xe.redo,preventDefault:!0}];this.plugin=o}onload(){super.onload(),this.editorEl=this.contentEl.createDiv("datafile-source-view mod-cm6"),this.cmEditor=new k.EditorView({state:this.createDefaultEditorState(),parent:this.editorEl}),this.app.workspace.trigger("codemirror",this.cmEditor)}getViewData(){return this.cmEditor.state.doc.toString()}setViewData(s,o){this.cmEditor.dispatch({changes:{from:0,to:this.cmEditor.state.doc.length,insert:s}})}clear(){}getDisplayText(){return this.file?this.file.basename:"NOFILE"}onClose(){return super.onClose()}async reload(){this.plugin.settings.doAutosaveFiles&&await this.save(!1);let s=this.getViewData();this.cmEditor.setState(this.createDefaultEditorState()),this.setViewData(s,!1)}onEditorUpdate(s){this.plugin.settings.doAutosaveFiles&&s.docChanged&&this.requestSave()}createDefaultEditorState(){return Xe.EditorState.create({extensions:[...this.getCommonEditorExtensions(),...this.getEditorExtensions()]})}getCommonEditorExtensions(){let s=[Te,k.keymap.of(this.customHistoryKeymap),k.EditorView.updateListener.of(this.onEditorUpdate.bind(this))];return this.plugin.settings.lineWrapping&&s.push(k.EditorView.lineWrapping),s}};var R=class extends h{constructor(t,s){super(t,s)}getViewType(){return X}getEditorExtensions(){let t;return t=[D(),me()],t}};var C=class extends h{constructor(t,s){super(t,s)}getViewType(){return c}getEditorExtensions(){let t;return t=[he()],t}};var T=require("@lezer/lr"),l=require("@lezer/highlight"),L=63,Re=64,tt=1,st=2,be=3,at=4,ye=5,ot=6,nt=7,ve=65,it=66,rt=8,Ot=9,lt=10,dt=11,gt=12,ke=13,ct=19,pt=20,ft=29,mt=33,Pt=34,ht=47,Qt=0,Oe=1,oe=2,_=3,ne=4,Q=class{constructor(t,s,o){this.parent=t,this.depth=s,this.type=o,this.hash=(t?t.hash+t.hash<<8:0)+s+(s<<4)+o}};Q.top=new Q(null,-1,Qt);function V(e,t){for(let s=0,o=t-e.pos-1;;o--,s++){let O=e.peek(o);if(u(O)||O==-1)return s}}function ie(e){return e==32||e==9}function u(e){return e==10||e==13}function Le(e){return ie(e)||u(e)}function E(e){return e<0||Le(e)}var ut=new T.ContextTracker({start:Q.top,reduce(e,t){return e.type==_&&(t==pt||t==Pt)?e.parent:e},shift(e,t,s,o){if(t==be)return new Q(e,V(o,o.pos),Oe);if(t==ve||t==ye)return new Q(e,V(o,o.pos),oe);if(t==L)return e.parent;if(t==ct||t==mt)return new Q(e,0,_);if(t==ke&&e.type==ne)return e.parent;if(t==ht){let O=/[1-9]/.exec(o.read(o.pos,s.pos));if(O)return new Q(e,e.depth+ +O[0],ne)}return e},hash(e){return e.hash}});function w(e,t,s=0){return e.peek(s)==t&&e.peek(s+1)==t&&e.peek(s+2)==t&&E(e.peek(s+3))}var Tt=new T.ExternalTokenizer((e,t)=>{if(e.next==-1&&t.canShift(Re))return e.acceptToken(Re);let s=e.peek(-1);if((u(s)||s<0)&&t.context.type!=_){if(w(e,45))if(t.canShift(L))e.acceptToken(L);else return e.acceptToken(tt,3);if(w(e,46))if(t.canShift(L))e.acceptToken(L);else return e.acceptToken(st,3);let o=0;for(;e.next==32;)o++,e.advance();(o<t.context.depth||o==t.context.depth&&t.context.type==Oe&&(e.next!=45||!E(e.peek(1))))&&e.next!=-1&&!u(e.next)&&e.next!=35&&e.acceptToken(L,-o)}},{contextual:!0}),St=new T.ExternalTokenizer((e,t)=>{if(t.context.type==_){e.next==63&&(e.advance(),E(e.next)&&e.acceptToken(nt));return}if(e.next==45)e.advance(),E(e.next)&&e.acceptToken(t.context.type==Oe&&t.context.depth==V(e,e.pos-1)?at:be);else if(e.next==63)e.advance(),E(e.next)&&e.acceptToken(t.context.type==oe&&t.context.depth==V(e,e.pos-1)?ot:ye);else{let s=e.pos;for(;;)if(ie(e.next)){if(e.pos==s)return;e.advance()}else if(e.next==33)we(e);else if(e.next==38)re(e);else if(e.next==42){re(e);break}else if(e.next==39||e.next==34){if(le(e,!0))break;return}else if(e.next==91||e.next==123){if(!xt(e))return;break}else{Ve(e,!0,!1,0);break}for(;ie(e.next);)e.advance();if(e.next==58){if(e.pos==s&&t.canShift(ft))return;let o=e.peek(1);E(o)&&e.acceptTokenTo(t.context.type==oe&&t.context.depth==V(e,s)?it:ve,s)}}},{contextual:!0});function Xt(e){return e>32&&e<127&&e!=34&&e!=37&&e!=44&&e!=60&&e!=62&&e!=92&&e!=94&&e!=96&&e!=123&&e!=124&&e!=125}function Ce(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function Ee(e,t){return e.next==37?(e.advance(),Ce(e.next)&&e.advance(),Ce(e.next)&&e.advance(),!0):Xt(e.next)||t&&e.next==44?(e.advance(),!0):!1}function we(e){if(e.advance(),e.next==60){for(e.advance();;)if(!Ee(e,!0)){e.next==62&&e.advance();break}}else for(;Ee(e,!1););}function re(e){for(e.advance();!E(e.next)&&M(e.next)!="f";)e.advance()}function le(e,t){let s=e.next,o=!1,O=e.pos;for(e.advance();;){let i=e.next;if(i<0)break;if(e.advance(),i==s)if(i==39)if(e.next==39)e.advance();else break;else break;else if(i==92&&s==34)e.next>=0&&e.advance();else if(u(i)){if(t)return!1;o=!0}else if(t&&e.pos>=O+1024)return!1}return!o}function xt(e){for(let t=[],s=e.pos+1024;;)if(e.next==91||e.next==123)t.push(e.next),e.advance();else if(e.next==39||e.next==34){if(!le(e,!0))return!1}else if(e.next==93||e.next==125){if(t[t.length-1]!=e.next-2)return!1;if(t.pop(),e.advance(),!t.length)return!0}else{if(e.next<0||e.pos>s||u(e.next))return!1;e.advance()}}var Rt="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function M(e){return e<33?"u":e>125?"s":Rt[e-33]}function ae(e,t){let s=M(e);return s!="u"&&!(t&&s=="f")}function Ve(e,t,s,o){if(M(e.next)=="s"||(e.next==63||e.next==58||e.next==45)&&ae(e.peek(1),s))e.advance();else return!1;let O=e.pos;for(;;){let i=e.next,d=0,a=o+1;for(;Le(i);){if(u(i)){if(t)return!1;a=0}else a++;i=e.peek(++d)}if(!(i>=0&&(i==58?ae(e.peek(d+1),s):i==35?e.peek(d-1)!=32:ae(i,s)))||!s&&a<=o||a==0&&!s&&(w(e,45,d)||w(e,46,d)))break;if(t&&M(i)=="f")return!1;for(let n=d;n>=0;n--)e.advance();if(t&&e.pos>O+1024)return!1}return!0}var Ct=new T.ExternalTokenizer((e,t)=>{if(e.next==33)we(e),e.acceptToken(gt);else if(e.next==38||e.next==42){let s=e.next==38?lt:dt;re(e),e.acceptToken(s)}else e.next==39||e.next==34?(le(e,!1),e.acceptToken(Ot)):Ve(e,!1,t.context.type==_,t.context.depth)&&e.acceptToken(rt)}),Et=new T.ExternalTokenizer((e,t)=>{let s=t.context.type==ne?t.context.depth:-1,o=e.pos;e:for(;;){let O=0,i=e.next;for(;i==32;)i=e.peek(++O);if(!O&&(w(e,45,O)||w(e,46,O))||!u(i)&&(s<0&&(s=Math.max(t.context.depth+1,O)),O<s))break;for(;;){if(e.next<0)break e;let d=u(e.next);if(e.advance(),d)continue e;o=e.pos}}e.acceptTokenTo(ke,o)}),bt=(0,l.styleTags)({DirectiveName:l.tags.keyword,DirectiveContent:l.tags.attributeValue,"DirectiveEnd DocEnd":l.tags.meta,QuotedLiteral:l.tags.string,BlockLiteralHeader:l.tags.special(l.tags.string),BlockLiteralContent:l.tags.content,Literal:l.tags.content,"Key/Literal Key/QuotedLiteral":l.tags.definition(l.tags.propertyName),"Anchor Alias":l.tags.labelName,Tag:l.tags.typeName,Comment:l.tags.lineComment,": , -":l.tags.separator,"?":l.tags.punctuation,"[ ]":l.tags.squareBracket,"{ }":l.tags.brace}),_e=T.LRParser.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:"\u26A0 DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:ut,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[bt],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[Tt,St,Ct,Et,0,1],topRules:{Stream:[0,15]},tokenPrec:0});var p=require("@codemirror/language"),yt=require("@lezer/common"),U=require("@lezer/highlight"),Ye=require("@lezer/lr"),vt=Ye.LRParser.deserialize({version:14,states:"!vOQOPOOO]OPO'#C_OhOPO'#C^OOOO'#Cc'#CcOpOPO'#CaQOOOOOO{OPOOOOOO'#Cb'#CbO!WOPO'#C`O!`OPO,58xOOOO-E6a-E6aOOOO-E6`-E6`OOOO'#C_'#C_OOOO1G.d1G.d",stateData:"!h~OXPOYROWTP~OWVXXRXYRX~OYVOXSP~OXROYROWTX~OXROYROWTP~OYVOXSX~OX[O~OXY~",goto:"vWPPX[beioRUOQQOR]XRXQTTOUQWQRZWSSOURYS",nodeNames:"\u26A0 Document Frontmatter DashLine FrontmatterContent Body",maxTerm:10,skippedNodes:[0],repeatNodeCount:2,tokenData:"$z~RXOYnYZ!^Z]n]^!^^}n}!O!i!O;'Sn;'S;=`!c<%lOn~qXOYnYZ!^Z]n]^!^^;'Sn;'S;=`!c<%l~n~On~~!^~!cOY~~!fP;=`<%ln~!lZOYnYZ!^Z]n]^!^^}n}!O#_!O;'Sn;'S;=`!c<%l~n~On~~!^~#bZOYnYZ!^Z]n]^!^^}n}!O$T!O;'Sn;'S;=`!c<%l~n~On~~!^~$WXOYnYZ$sZ]n]^$s^;'Sn;'S;=`!c<%l~n~On~~$s~$zOX~Y~",tokenizers:[0],topRules:{Document:[0,1]},tokenPrec:67}),kt=p.LRLanguage.define({name:"yaml",parser:_e.configure({props:[p.indentNodeProp.add({Stream:e=>{for(let t=e.node.resolve(e.pos,-1);t&&t.to>=e.pos;t=t.parent){if(t.name=="BlockLiteralContent"&&t.from<t.to)return e.baseIndentFor(t);if(t.name=="BlockLiteral")return e.baseIndentFor(t)+e.unit;if(t.name=="BlockSequence"||t.name=="BlockMapping")return e.column(t.from,1);if(t.name=="QuotedLiteral")return null;if(t.name=="Literal"){let s=e.column(t.from,1);if(s==e.lineIndent(t.from,1))return s;if(t.to>e.pos)return null}}return null},FlowMapping:(0,p.delimitedIndent)({closing:"}"}),FlowSequence:(0,p.delimitedIndent)({closing:"]"})}),p.foldNodeProp.add({"FlowMapping FlowSequence":p.foldInside,"Item Pair BlockLiteral":(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function We(){return new p.LanguageSupport(kt)}var os=p.LRLanguage.define({name:"yaml-frontmatter",parser:vt.configure({props:[(0,U.styleTags)({DashLine:U.tags.meta})]})});var Z=require("@codemirror/language"),b=require("@lezer/highlight");var Lt=Z.HighlightStyle.define([{tag:b.tags.propertyName,color:"#e5c07b"},{tag:b.tags.string,color:"#98c379"},{tag:b.tags.number,color:"#d19a66"},{tag:b.tags.bool,color:"#d19a66"},{tag:b.tags.null,color:"#d19a66"},{tag:b.tags.comment,color:"#7f848e"}]),y=class extends h{constructor(t,s){super(t,s)}getViewType(){return x}getEditorExtensions(){let t=[D(),We()];return document.body.classList.contains("theme-dark")&&t.push((0,Z.syntaxHighlighting)(Lt)),t}};function $e(e){return[...e.workspace.getLeavesOfType(X).filter(s=>s.view instanceof R),...e.workspace.getLeavesOfType(c).filter(s=>s.view instanceof C),...e.workspace.getLeavesOfType(x).filter(s=>s.view instanceof y)].map(s=>s.view)}var N=require("obsidian"),De=Be(require("obsidian"));function de(e,t,s){if((0,N.requireApiVersion)("1.11.0")){let o=De.SettingGroup;if(o){let O=new o(e);return t&&O.setHeading(t),s&&(typeof O.setDesc=="function"?O.setDesc(s):e.createEl("p",{text:s,cls:"setting-item-description"})),{addSetting(i){O.addSetting(i)}}}}return t&&e.createDiv("setting-group-heading").createEl("h3",{text:t}),s&&e.createEl("p",{text:s,cls:"setting-item-description"}),{addSetting(o){let O=new N.Setting(e);o(O)}}}var Y=class extends qe.PluginSettingTab{constructor(s,o){super(s,o);this.requestReloadView=!1;this.plugin=o}display(){let{containerEl:s}=this;this.requestReloadView=!1,s.empty();let o=s.createEl("h2",{text:"File types"});o.style.padding="0 var(--size-4-4)",o.style.marginBottom="var(--size-4-4)";let O=s.createEl("p",{text:"Toggle which file types this plugin should handle. Please note that you must restart Obsidian for many of these changes to take effect.",cls:"setting-item-description"});O.style.padding="0 var(--size-4-4)",O.style.marginBottom="var(--size-4-4)";let i=de(s);i.addSetting(a=>a.setName("Load .txt files").addToggle(r=>r.setValue(this.plugin.settings.doLoadTxt).onChange(async n=>{this.plugin.settings.doLoadTxt=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Create .txt files").addToggle(r=>r.setValue(this.plugin.settings.doCreateTxt).onChange(async n=>{this.plugin.settings.doCreateTxt=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Load .json files").addToggle(r=>r.setValue(this.plugin.settings.doLoadJson).onChange(async n=>{this.plugin.settings.doLoadJson=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Create .json files").addToggle(r=>r.setValue(this.plugin.settings.doCreateJson).onChange(async n=>{this.plugin.settings.doCreateJson=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Load .xml files").addToggle(r=>r.setValue(this.plugin.settings.doLoadXml).onChange(async n=>{this.plugin.settings.doLoadXml=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Create .xml files").addToggle(r=>r.setValue(this.plugin.settings.doCreateXml).onChange(async n=>{this.plugin.settings.doCreateXml=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Load .yaml/.yml files").addToggle(r=>r.setValue(this.plugin.settings.doLoadYaml).onChange(async n=>{this.plugin.settings.doLoadYaml=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Create .yaml files").addToggle(r=>r.setValue(this.plugin.settings.doCreateYaml).onChange(async n=>{this.plugin.settings.doCreateYaml=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Load .html files").addToggle(r=>r.setValue(this.plugin.settings.doLoadHtml).onChange(async n=>{this.plugin.settings.doLoadHtml=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Create .html files").addToggle(r=>r.setValue(this.plugin.settings.doCreateHtml).onChange(async n=>{this.plugin.settings.doCreateHtml=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Load .css files").addToggle(r=>r.setValue(this.plugin.settings.doLoadCss).onChange(async n=>{this.plugin.settings.doLoadCss=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Create .css files").addToggle(r=>r.setValue(this.plugin.settings.doCreateCss).onChange(async n=>{this.plugin.settings.doCreateCss=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Load .js files").addToggle(r=>r.setValue(this.plugin.settings.doLoadJs).onChange(async n=>{this.plugin.settings.doLoadJs=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Create .js files").addToggle(r=>r.setValue(this.plugin.settings.doCreateJs).onChange(async n=>{this.plugin.settings.doCreateJs=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Load .mjs files").addToggle(r=>r.setValue(this.plugin.settings.doLoadMjs).onChange(async n=>{this.plugin.settings.doLoadMjs=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Create .mjs files").addToggle(r=>r.setValue(this.plugin.settings.doCreateMjs).onChange(async n=>{this.plugin.settings.doCreateMjs=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Load .ts files").addToggle(r=>r.setValue(this.plugin.settings.doLoadTs).onChange(async n=>{this.plugin.settings.doLoadTs=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Create .ts files").addToggle(r=>r.setValue(this.plugin.settings.doCreateTs).onChange(async n=>{this.plugin.settings.doCreateTs=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Load .astro files").addToggle(r=>r.setValue(this.plugin.settings.doLoadAstro).onChange(async n=>{this.plugin.settings.doLoadAstro=n,await this.plugin.saveSettings()}))),i.addSetting(a=>a.setName("Create .astro files").addToggle(r=>r.setValue(this.plugin.settings.doCreateAstro).onChange(async n=>{this.plugin.settings.doCreateAstro=n,await this.plugin.saveSettings()})));let d=de(s,"Global Settings");d.addSetting(a=>a.setName("Enable autosave for files").addToggle(r=>r.setValue(this.plugin.settings.doAutosaveFiles).onChange(async n=>{this.plugin.settings.doAutosaveFiles=n,await this.plugin.saveSettings()}))),d.addSetting(a=>a.setName("Wrap long lines").addToggle(r=>r.setValue(this.plugin.settings.lineWrapping).onChange(async n=>{this.plugin.settings.lineWrapping=n,this.requestReloadView=!0,await this.plugin.saveSettings()})))}async hide(){if(this.requestReloadView){let s=$e(this.app);for(let o of s)await o.reload()}}};var Me=require("obsidian"),Ue={join(...e){let t=e.map(s=>String(s).trim()).filter(s=>s!=null);return(0,Me.normalizePath)(t.join("/"))}};var Ze={doLoadTxt:!0,doCreateTxt:!0,doLoadXml:!0,doCreateXml:!0,doLoadJson:!0,doCreateJson:!0,doLoadYaml:!0,doCreateYaml:!0,doLoadAstro:!1,doCreateAstro:!1,doLoadTs:!1,doCreateTs:!1,doLoadCss:!1,doCreateCss:!1,doLoadHtml:!1,doCreateHtml:!1,doLoadJs:!1,doCreateJs:!1,doLoadMjs:!1,doCreateMjs:!1,doAutosaveFiles:!0,lineWrapping:!0};var G=class extends z.Plugin{async onload(){await this.loadSettings(),this.registerView(c,s=>new C(s,this)),this.registerView(X,s=>new R(s,this)),this.registerView(x,s=>new y(s,this)),this.TryRegisterTxt(),this.tryRegisterJson(),this.tryRegisterXml(),this.tryRegisterYaml(),this.tryRegisterAstro(),this.tryRegisterTs(),this.tryRegisterCss(),this.tryRegisterHtml(),this.tryRegisterJs(),this.tryRegisterMjs(),this.addSettingTab(new Y(this.app,this))}TryRegisterTxt(){this.settings.doLoadTxt&&this.registerExtensions([I],c),this.settings.doCreateTxt&&this.registerContextMenuCommand(I,"file")}tryRegisterJson(){this.settings.doLoadJson&&this.registerExtensions([A],X),this.settings.doCreateJson&&this.registerContextMenuCommand(A,"file-braces")}tryRegisterXml(){this.settings.doLoadXml&&this.registerExtensions([j],c),this.settings.doCreateXml&&this.registerContextMenuCommand(j,"file-code")}tryRegisterYaml(){this.settings.doLoadYaml&&this.registerExtensions([B,ce],x),this.settings.doCreateYaml&&this.registerContextMenuCommand(B,"file-text")}tryRegisterAstro(){this.settings.doLoadAstro&&this.registerExtensions([J],c),this.settings.doCreateAstro&&this.registerContextMenuCommand(J,"file-plus")}tryRegisterTs(){this.settings.doLoadTs&&this.registerExtensions([H],c),this.settings.doCreateTs&&this.registerContextMenuCommand(H,"file-type")}tryRegisterCss(){this.settings.doLoadCss&&this.registerExtensions([F],c),this.settings.doCreateCss&&this.registerContextMenuCommand(F,"file-sliders")}tryRegisterHtml(){this.settings.doLoadHtml&&this.registerExtensions([K],c),this.settings.doCreateHtml&&this.registerContextMenuCommand(K,"file-up")}tryRegisterJs(){this.settings.doLoadJs&&this.registerExtensions([ee],c),this.settings.doCreateJs&&this.registerContextMenuCommand(ee,"file-code")}tryRegisterMjs(){this.settings.doLoadMjs&&this.registerExtensions([te],c),this.settings.doCreateMjs&&this.registerContextMenuCommand(te,"file-code")}onunload(){}async loadSettings(){this.settings=Object.assign({},Ze,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}registerContextMenuCommand(s,o){this.registerEvent(this.app.workspace.on("file-menu",(O,i)=>{let d=i instanceof z.TFile?i.parent:i;O.addItem(a=>{a.setTitle(`New .${s} file`).setIcon(o).setSection("action").onClick(async()=>{console.log(d==null?void 0:d.path),d&&await this.createFile(d.path,s)})})}))}async createFile(s,o){let{vault:O}=this.app,{adapter:i}=O,d="Unknown",a=Ue.join(s,`${d}.${o}`);try{if(await i.exists(a))throw new Error(`${a} already exists`);let n=await O.create(a,"");await this.app.workspace.getLeaf(!0).openFile(n)}catch(r){console.log(r.toString())}}};
